# 注解

可以使用Kubernetes的注解来给对象添加任意非标识性元数据。像工具、函数库这样的客户端可以获取这些元数据。

## 给对象添加元数据

可以使用标签或注解来给Kubernetes的对象添加元数据。标签可以用来选择对象，并能查找满足特定条件的对象集合。相反，注解并不用于标识和选择对象。注解中的元数据可大可小，可以是结构化和非结构化数据，并且可以使用label中不能使用的字符。

注解和标签一样，都是一个键值字典：

```json
"metadata": {
  "annotations": {
    "key1" : "value1",
    "key2" : "value2"
  }
}
```

以下是可以在注释中记录的一些信息示例：

- 由声明性配置层管理的字段。将这些字段作为注释附加，可以将它们与客户端或服务器设置的默认值以及自动生成的字段和自动调整大小或自动调整系统设置的字段区分开来。
- 像时间戳、发布ID、分支、PR编号、镜像HASH值和注册地址等构建、发布或镜像信息。
- 指向日志记录，监控，分析或审计存储库的指针。
- 用于调试目的的客户端库或工具信息，比如名字、版本和构建信息。
- 用户或工具/系统出处信息，例如来自其他生态系统组件的相关对象的URL。
- 轻量级的回归元数据，比如配置和检查点。
- 负责人的电话或寻呼机号码，或指定可在何处找到该信息的目录条目，例如团队网站。
- 从最终用户到实现的指令，用于修改行为或使用非标准功能。

Instead of using annotations, you could store this type of information in an external database or directory, but that would make it much harder to produce shared client libraries and tools for deployment, management, introspection, and the like.

如果不使用注解，这些类型的信息存储需要使用一个外部的数据库或目录，但是这会增加构建跨客户端库、部署工具、管理、内省系统的难度。

## 语法和字符集

注解也是键值对，合法的注解的键由两个部分组成：可选的前缀和名字，前缀和名字之间使用`/` 分割。名字部分是必须而且长度不得超过63个字符。名字必须以(`[a-z0-9A-Z]`)、`-`、`_`、`.` 开始和结尾，中间允许使用数字。前缀是可选的，如果提供了前缀，前缀必须必须是DNS子域，由`.` 连接，长度不得超过253个字符，以`/` 结尾。

省略前缀的注解是用户私有的，如果向用户的对象添加注解，必须带有前缀。`io/` and `k8s`.`io/` 两个前缀用于Kubernetes核心组件。`

